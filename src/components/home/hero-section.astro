---
import Button from "../ui/button.astro";
---

<style>
  @keyframes wave {
    0% {
      transform: rotate(0deg);
    }
    15% {
      transform: rotate(14deg);
    }
    30% {
      transform: rotate(-8deg);
    }
    40% {
      transform: rotate(14deg);
    }
    50% {
      transform: rotate(-4deg);
    }
    60% {
      transform: rotate(10deg);
    }
    70% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }

  .animate-wave-once {
    animation: wave 2s ease-in-out 0s 1 forwards;
    transform-origin: 70% 70%;
    display: inline-block;
  }

  @keyframes spin-slow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .animate-spin-slow {
    animation: spin-slow 40s linear infinite;
  }
</style>

<div
  id="home"
  class="relative z-20 w-full max-w-4xl mx-auto min-h-[70vh] flex items-center justify-center px-4 sm:px-7 xl:px-0 py-6 md:py-12"
>
  <div
    class="flex flex-col items-center md:flex-row md:items-center gap-8 md:gap-4"
  >
    <!-- Reordered for mobile: Image first, then text -->

    <!-- Image section - Displays first on mobile, displays on right on desktop -->
    <div class="w-full md:w-1/2 md:order-2 md:pl-6 lg:pl-10">
      <!-- Circular Static Image (visible only on mobile) -->
      <div class="block md:hidden w-full max-w-xs mx-auto relative py-2 mb-4">
        <div class="relative z-30 flex justify-center">
          <!-- Circular image container with border effects -->
          <div class="relative w-64 h-64 sm:w-72 sm:h-72">
            <!-- Outer glow/gradient ring -->
            <div
              class="absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 blur-sm dark:from-blue-500 dark:to-purple-600 opacity-70"
            >
            </div>

            <!-- Inner content container -->
            <div
              class="absolute inset-2 rounded-full overflow-hidden border-4 border-white dark:border-neutral-900 bg-white dark:bg-neutral-900 shadow-lg"
            >
              <img
                src="/assets/images/me.jpeg"
                alt="Chaitanya's photo"
                class="w-full h-full object-cover rounded-full"
              />
            </div>

            <!-- Decorative outline ring -->
            <div
              class="absolute inset-0 rounded-full border-2 border-dashed border-neutral-300 dark:border-neutral-700 animate-spin-slow"
              style="border-dash-width: 4px; border-dash-gap: 4px; animation-duration: 40s;"
            >
            </div>
          </div>
        </div>

        <!-- Wave animation for mobile -->
        <div
          class="absolute z-40 w-14 h-14 sm:w-16 sm:h-16 left-12 sm:left-6 top-4 rounded-full"
        >
          <span
            class="relative z-20 flex items-center justify-center w-full h-full text-xl sm:text-2xl border-4 sm:border-6 border-white rounded-full dark:border-neutral-950 bg-neutral-100 dark:bg-neutral-900 shadow-md"
          >
            <span
              class="flex items-center justify-center w-full h-full bg-white border-2 border-dashed rounded-full dark:bg-neutral-950 border-neutral-500 dark:border-neutral-500"
              style="border-dash-width: 4px; border-dash-gap: 4px;"
            >
              <span class="animate-wave-once">ðŸ‘‹</span>
            </span>
          </span>
        </div>
      </div>

      <!-- 3D Model (visible only on desktop) -->
      <div
        class="hidden md:block relative z-50 w-full max-w-xs sm:max-w-sm md:max-w-none mx-auto md:mx-0"
      >
        <!-- Wave animation - positioned exactly like in original code -->
        <div
          class="absolute bottom-0 z-40 w-12 h-12 sm:w-16 sm:h-16 -translate-x-6 -translate-y-1/2 lg:top-auto top-0 lg:-translate-y-[330px] rounded-full"
        >
          <span
            class="relative z-20 flex items-center justify-center w-full h-full text-xl sm:text-2xl border-4 sm:border-6 lg:border-8 border-white rounded-full dark:border-neutral-950 bg-neutral-100 dark:bg-neutral-900"
          >
            <span
              class="flex items-center justify-center w-full h-full bg-white border-2 border-dashed rounded-full dark:bg-neutral-950 border-neutral-500 dark:border-neutral-500"
              style="border-dash-width: 4px; border-dash-gap: 4px;"
            >
              <span class="animate-wave-once">ðŸ‘‹</span>
            </span>
          </span>
        </div>

        <!-- 3D Model container -->
        <div class="relative z-30 px-2 xs:px-4 sm:px-10">
          <div
            class="relative z-30 w-full md:max-w-md mx-auto aspect-[790/1189] dark:-translate-y-0.5"
          >
            <script
              type="module"
              src="https://unpkg.com/@splinetool/viewer@1.9.82/build/spline-viewer.js"
            ></script>
            <spline-viewer
              url="https://prod.spline.design/UXT8N3W3k8SBfN5q/scene.splinecode"
              class="w-full h-full"
              loading="lazy"></spline-viewer>
          </div>
        </div>

        <!-- Background design -->
        <div
          class="absolute bottom-0 right-0 z-20 w-full h-full lg:h-[420px] translate-x-0 -translate-y-px border-2 border-dashed rounded-2xl bg-gradient-to-r dark:from-neutral-950 dark:via-black dark:to-neutral-950 from-white via-neutral-50 to-white border-neutral-500 dark:border-neutral-500"
          style="border-dash-width: 4px; border-dash-gap: 4px;"
        >
        </div>
      </div>
    </div>

    <!-- Text content - Displays second on mobile, displays on left on desktop -->
    <div class="w-full md:w-1/2 md:order-1 mb-6 md:mb-0">
      <!-- Greeting, Name, and Title highlighted -->
      <div class="mb-6 md:mb-8">
        <div
          class="text-base sm:text-lg md:text-xl text-black dark:text-white font-medium mb-2"
        >
          Hi, Welcome to My Portfolio âœ¨
        </div>
        <h1
          class="mb-2 md:mb-3 text-3xl sm:text-4xl lg:text-5xl font-bold leading-tight dark:text-white"
        >
          I'm <span class="text-blue-500">Chaitanya</span>
        </h1>
        <div
          class="text-lg sm:text-xl md:text-2xl font-semibold text-neutral-700 dark:text-neutral-300"
        >
          Web Developer & UI/UX Specialist
        </div>
      </div>

      <!-- Main description - improved readability on small screens -->
      <p
        class="mb-5 md:mb-6 text-sm sm:text-base md:text-lg leading-relaxed text-neutral-600 dark:text-white"
      >
        With a strong background in web development, I specialize in creating
        user-centric digital experiences that solve real-world problems.
      </p>

      <!-- Skills list - adjusted spacing for mobile -->
      <p
        class="mb-2 text-sm sm:text-base md:text-lg font-semibold text-neutral-800 dark:text-neutral-200"
      >
        Key strengths I bring to the team:
      </p>
      <ul
        class="py-1 md:py-2 mb-5 md:mb-6 space-y-1 sm:space-y-[3px] text-xs sm:text-sm md:text-base list-disc list-inside text-neutral-500 dark:text-neutral-400"
      >
        <li>Building modern UI's with React & Tailwind</li>
        <li>Designing intuitive UX with accessibility in mind</li>
        <li>Optimizing performance & SEO for better visibility</li>
        <li>Full-stack development with REST APIs & Node.js</li>
      </ul>

      <!-- CTA Buttons - side by side on all screen sizes -->
      <div class="flex flex-row gap-3 sm:gap-4 mt-4">
        <div class="w-auto">
          <Button text="View All My Projects" link="#projects" />
        </div>
        <div class="w-auto">
          <Button text="Contact Me" link="#contact" />
        </div>
      </div>
    </div>
  </div>
</div>
