---
import Button from "../ui/button.astro";
import { Image } from "astro:assets"; // Import Astro's native Image component
---

<style>
  /* Wave animation for the hand */
  @keyframes wave {
    0% {
      transform: rotate(0deg);
    }
    15% {
      transform: rotate(14deg);
    }
    30% {
      transform: rotate(-8deg);
    }
    40% {
      transform: rotate(14deg);
    }
    50% {
      transform: rotate(-4deg);
    }
    60% {
      transform: rotate(10deg);
    }
    70% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }

  .animate-wave-once {
    animation: wave 3s ease-in-out 0s 1 forwards;
    transform-origin: 70% 70%;
    display: inline-block;
  }

  /* Bubble pop-in and vanish animation */
  @keyframes bubble-lifecycle {
    0% {
      transform: scale(0);
      opacity: 0;
    }
    10% {
      transform: scale(1.2);
      opacity: 1;
    }
    15% {
      transform: scale(0.9);
      opacity: 1;
    }
    20% {
      transform: scale(1);
      opacity: 1;
    }
    /* Keep visible during wave animation */
    80% {
      transform: scale(1);
      opacity: 1;
    }
    /* Start to vanish */
    90% {
      transform: scale(1.1);
      opacity: 0.7;
    }
    100% {
      transform: scale(0);
      opacity: 0;
    }
  }

  .bubble-lifecycle {
    animation: bubble-lifecycle 4s ease-out forwards;
  }

  /* Glow effect that also fades with the bubble */
  @keyframes glow-lifecycle {
    0% {
      box-shadow: 0 0 0px 0px rgba(59, 130, 246, 0);
    }
    10% {
      box-shadow: 0 0 10px 3px rgba(59, 130, 246, 0.5);
    }
    75% {
      box-shadow: 0 0 10px 3px rgba(59, 130, 246, 0.5);
    }
    100% {
      box-shadow: 0 0 0px 0px rgba(59, 130, 246, 0);
    }
  }

  .glow-lifecycle {
    animation: glow-lifecycle 4s ease-in-out forwards;
  }

  /* Dark mode glow */
  @keyframes dark-glow-lifecycle {
    0% {
      box-shadow: 0 0 0px 0px rgba(147, 51, 234, 0);
    }
    10% {
      box-shadow: 0 0 10px 3px rgba(147, 51, 234, 0.5);
    }
    75% {
      box-shadow: 0 0 10px 3px rgba(147, 51, 234, 0.5);
    }
    100% {
      box-shadow: 0 0 0px 0px rgba(147, 51, 234, 0);
    }
  }

  .dark .glow-lifecycle {
    animation: dark-glow-lifecycle 4s ease-in-out forwards;
  }

  /* Add styling for the profile image container */
  .profile-image-wrapper {
    position: relative;
    overflow: hidden;
    border-radius: 9999px;
    width: 100%;
    height: 100%;
  }
</style>

<!-- Mobile and Tablet Hero Section -->
<div class="block md:hidden">
  <div
    id="home"
    class="relative z-20 w-full max-w-4xl mx-auto min-h-[70vh] flex flex-col items-center justify-center px-4 sm:px-7 py-6"
  >
    <!-- Image section (centered) -->
    <div class="w-full max-w-xs mx-auto relative py-2 mb-6">
      <div class="relative z-30 flex justify-center">
        <!-- Circular image container with border effects -->
        <div class="relative w-64 h-64 sm:w-72 sm:h-72">
          <!-- Outer glow/gradient ring -->
          <div
            class="absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 to-blue-600 blur-sm dark:from-blue-500 dark:to-purple-600 opacity-70"
          >
          </div>

          <!-- Inner content container with optimized image -->
          <div
            class="absolute inset-2 rounded-full overflow-hidden border-4 border-white dark:border-neutral-900 bg-white dark:bg-neutral-900 shadow-lg"
          >
            <div class="profile-image-wrapper">
              <!-- Use Astro's Image component for optimized loading -->
              <Image
                src="/assets/images/me.jpeg"
                alt="Chaitanya's photo"
                width={500}
                height={500}
                loading="eager"
                format="webp"
                quality={80}
                class="w-full h-full object-cover"
              />
            </div>
          </div>
        </div>
      </div>

      <!-- Animated bubble for hand emoji - appears and disappears -->
      <div
        class="absolute z-40 w-16 h-16 sm:w-20 sm:h-20 left-0 top-6 bubble-lifecycle"
      >
        <!-- Combined container with appearance/disappearance animation -->
        <span
          class="relative z-20 flex items-center justify-center w-full h-full text-xl sm:text-2xl rounded-full overflow-hidden glow-lifecycle"
        >
          <!-- Inner gradient background -->
          <span
            class="absolute inset-0 bg-gradient-to-br from-blue-100 to-white dark:from-blue-900 dark:to-purple-950 border-4 border-white dark:border-purple-800 rounded-full"
          ></span>

          <!-- Emoji container -->
          <span class="relative z-30 animate-wave-once">ðŸ‘‹</span>
        </span>
      </div>
    </div>

    <!-- Text content (center-aligned) -->
    <div class="w-full max-w-md text-center">
      <!-- Greeting, Name, and Title highlighted -->
      <div class="mb-5 sm:mb-6">
        <div
          class="text-base sm:text-lg text-black dark:text-white font-medium mb-2"
        >
          Hi, Welcome to My Portfolio âœ¨
        </div>
        <h1
          class="mb-2 text-3xl sm:text-4xl font-bold leading-tight dark:text-white"
        >
          I'm <span class="text-blue-500">Chaitanya</span>
        </h1>
        <div
          class="text-lg sm:text-xl font-semibold text-neutral-700 dark:text-neutral-300"
        >
          A Software Engineer
        </div>
      </div>

      <!-- Main description -->
      <p
        class="mb-5 text-sm sm:text-base leading-relaxed text-neutral-600 dark:text-white mx-auto max-w-xs"
      >
        I specialize in Web Development and DevOps, delivering end-to-end
        solutions by combining modern frontend development with automated cloud
        infrastructure.
      </p>

      <!-- Skills list -->
      <p
        class="mb-2 text-sm sm:text-base font-semibold text-neutral-800 dark:text-neutral-200"
      >
        Key strengths I bring to the team:
      </p>
      <ul
        class="py-1 sm:py-2 mb-5 space-y-1 sm:space-y-[3px] text-xs sm:text-sm list-none text-neutral-500 dark:text-neutral-400"
      >
        <li>Building modern, responsive UIs</li>
        <li>Designing accessible, user-friendly interfaces</li>
        <li>Automating infrastructure & CI/CD pipelines</li>
      </ul>

      <!-- CTA Buttons -->
      <div class="flex flex-row justify-center gap-3 sm:gap-4 mt-4">
        <div class="w-auto">
          <Button text="View All My Projects" link="#projects" />
        </div>
        <div class="w-auto">
          <Button text="Contact Me" link="#contact" />
        </div>
      </div>
    </div>
  </div>
</div>
