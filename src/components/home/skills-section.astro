---
import WebSkillsSection from "./skills-web-section.astro";
import DevOpsSkillsSection from "./skills-devops-section.astro";
import { Icon } from "astro-icon/components";
import PageHeading from "../ui/page-heading.astro";
---

<section>
  <div class="toggle-container">
    <button id="web-toggle" class="toggle-btn active" aria-pressed="true">
      <Icon name="simple-icons:react" class="toggle-icon" />
      <span>Web Development</span>
    </button>
    <button id="devops-toggle" class="toggle-btn" aria-pressed="false">
      <Icon name="simple-icons:kubernetes" class="toggle-icon" />
      <span>DevOps</span>
    </button>
  </div>

  <h1
    class="skills-title text-3xl sm:text-4xl font-bold text-center mt-6 mb-10"
  >
    Web Development <span class="text-blue-500">Skills</span>
  </h1>

  <div id="web-skills" class="skill-section active">
    <WebSkillsSection />
  </div>

  <div id="devops-skills" class="skill-section">
    <DevOpsSkillsSection />
  </div>
</section>

<style>
  section {
    padding-top: 2rem; /* Add space above the section */
  }

  .toggle-container {
    display: flex;
    justify-content: center;
    margin-bottom: 2rem;
    gap: 1rem;
  }

  .toggle-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    background-color: #1e293b;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: #94a3b8;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s ease;
  }

  .toggle-btn.active {
    background-color: rgba(59, 130, 246, 0.1);
    border-color: rgba(59, 130, 246, 0.5);
    color: #60a5fa;
  }

  .toggle-icon {
    width: 20px;
    height: 20px;
  }

  .skill-section {
    display: none;
  }

  .skill-section.active {
    display: block;
    animation: fadeIn 0.5s ease;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @media (max-width: 640px) {
    .toggle-container {
      flex-direction: column;
      align-items: center;
    }

    .toggle-btn {
      width: 80%;
    }
  }
</style>

<script>
  // Get toggle buttons and skill sections
  const webToggle = document.getElementById("web-toggle");
  const devopsToggle = document.getElementById("devops-toggle");
  const webSkills = document.getElementById("web-skills");
  const devopsSkills = document.getElementById("devops-skills");

  // Add click event listeners
  webToggle.addEventListener("click", () => {
    webToggle.classList.add("active");
    devopsToggle.classList.remove("active");
    webSkills.classList.add("active");
    devopsSkills.classList.remove("active");
    webToggle.setAttribute("aria-pressed", "true");
    devopsToggle.setAttribute("aria-pressed", "false");

    // Update page title to reflect selected skills
    document.querySelector(".skills-title").innerHTML =
      'Web Development <span class="text-blue-500">Skills</span>';
  });

  devopsToggle.addEventListener("click", () => {
    devopsToggle.classList.add("active");
    webToggle.classList.remove("active");
    devopsSkills.classList.add("active");
    webSkills.classList.remove("active");
    devopsToggle.setAttribute("aria-pressed", "true");
    webToggle.setAttribute("aria-pressed", "false");

    // Update page title to reflect selected skills
    document.querySelector(".skills-title").innerHTML =
      'DevOps <span class="text-blue-500">Skills</span>';
  });
</script>
